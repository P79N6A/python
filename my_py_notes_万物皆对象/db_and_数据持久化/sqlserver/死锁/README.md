# 死锁

鎖定從數據庫系統的角度大致可以分為6種：

- 共享鎖（S）：還可以叫他讀鎖。可以併發讀取數據，但不能修改數據。也就是説當數據資源上存在共享鎖的時候，所有的事務都不能對這個資源進行修改，直到數據讀取完成，共享鎖釋放。
- 排它鎖（X）：還可以叫他獨佔鎖、寫鎖。就是如果你對數據資源進行增刪改操作時，不允許其它任何事務操作這塊資源，直到排它鎖被釋放，防止同時對同一資源進行多重操作。
- 更新鎖（U）：防止出現死鎖的鎖模式，兩個事務對一個數據資源進行先讀取在修改的情況下，使用共享鎖和排它鎖有時會出現死鎖現象，而使用更新鎖則可以避免死鎖的出現。資源的更新鎖一次只能分配給一個事務，如果需要對資源進行修改，更新鎖會變成排他鎖，否則變為共享鎖。
- 意向鎖：SQL Server需要在層次結構中的底層資源上（如行，列）獲取共享鎖，排它鎖，更新鎖。例如表級放置了意向共享鎖，就表示事務要對錶的頁或行上使用共享鎖。在表的某一行上上放置意向鎖，可以防止其它事務獲取其它不兼容的的鎖。意向鎖可以提高性能，因為數據引擎不需要檢測資源的每一列每一行，就能判斷是否可以獲取到該資源的兼容鎖。意向鎖包括三種類型：意向共享鎖（IS），意向排他鎖（IX），意向排他共享鎖（SIX）。
- 架構鎖：防止修改表結構時，併發訪問的鎖。
- 大容量更新鎖：允許多個線程將大容量數據併發的插入到同一個表中，在加載的同時，不允許其它進程訪問該表。

這些鎖之間的相互兼容性，也就是，是否可以同時存在。 

## 
[blog](https://hk.saowen.com/a/76ea9a9d861e8a5b4336ce6a7fdc0f3e466b7219f8b024fd98a31f68b9b77203)